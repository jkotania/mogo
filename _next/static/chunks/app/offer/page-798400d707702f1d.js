(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[579],{331:(e,t,l)=>{Promise.resolve().then(l.bind(l,9291))},9291:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>u});var s=l(5155),r=l(2115),i=l(9670),n=l(5330),a=l(5565),o=l(1712);let d=()=>(0,s.jsx)(s.Fragment,{children:[{width:"1001px",color:"#121CFF"},{width:"901px",color:"#1a1a1a"},{width:"801px",color:"#1a1a1a"},{width:"701px",color:"#1a1a1a"},{width:"691px",color:"#1a1a1a"},{width:"900px",color:"#121CFF"}].map((e,t)=>(0,s.jsxs)("div",{className:"flex gap-5 justify-between px-4 py-4 mt-7 w-full rounded-3xl animate-pulse",style:{backgroundColor:e.color,maxWidth:e.width},children:[(0,s.jsx)("div",{className:"h-8 bg-white/20 rounded w-1/3"}),(0,s.jsx)("div",{className:"h-8 bg-white/20 rounded w-24"})]},t))});var c=l(5683),x=l(3478);function u(){let[e,t]=(0,r.useState)(null),[l,u]=(0,r.useState)([]),[m,h]=(0,r.useState)({}),[f,p]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{await new Promise(e=>setTimeout(e,100));let{data:e,error:t}=await o.N.from("categories").select("*").order("name",{ascending:!0});if(t){console.error("Błąd podczas pobierania kategorii:",t);return}let l=["Salon","Sypialnia","Kuchnia","Schody"],s=null==e?void 0:e.sort((e,t)=>l.indexOf(e.name)-l.indexOf(t.name));u(s||[]);let{data:r,error:i}=await o.N.from("offers").select("*").order("order_number");if(i){console.error("Błąd podczas pobierania ofert:",i);return}let n={};null==r||r.forEach(e=>{n[e.category_id]||(n[e.category_id]=[]),n[e.category_id].push(e)}),h(n)}finally{p(!1)}})()},[]),(0,s.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,s.jsx)(i.A,{}),(0,s.jsxs)("div",{className:"flex flex-col justify-center font-light p-6",children:[(0,s.jsx)("h1",{className:"w-full text-6xl text-center text-black border-0 border-solid max-md:max-w-full max-md:text-5xl",children:"Oferta"}),(0,s.jsx)("div",{className:"flex flex-col justify-center items-center px-5 py-2 w-full text-4xl text-black max-md:max-w-full",children:(0,s.jsx)("div",{className:"flex flex-col items-center mt-8 w-full max-w-[1201px] max-md:mt-10 max-md:max-w-full",children:f?(0,s.jsx)(d,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex gap-5 justify-between px-4 py-4 w-full rounded-3xl text-white",style:{backgroundColor:"#121CFF",maxWidth:"1001px"},children:[(0,s.jsx)("div",{className:"text-2xl sm:text-4xl",children:"Projekt mebli"}),(0,s.jsx)("div",{className:"text-right text-2xl sm:text-4xl whitespace-nowrap",children:"od 260 zł"})]}),l.map(l=>{var r,i,n;return(0,s.jsxs)("div",{className:"w-full flex flex-col items-center",children:[(0,s.jsxs)("div",{className:"flex gap-5 justify-between items-center px-4 py-4 mt-7 w-full rounded-3xl text-white max-md:flex-wrap",style:{backgroundColor:l.background_color,maxWidth:l.width},onClick:()=>{l.is_expandable&&t(e===l.id?null:l.id)},children:[(0,s.jsx)("div",{className:"text-2xl sm:text-4xl flex items-center z-20",children:l.name}),l.is_expandable?(0,s.jsx)("div",{className:"text-right flex items-center",children:(0,s.jsx)("svg",{className:"h-10 w-8 transition-transform ".concat(e===l.id?"transform rotate-180":""),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,s.jsx)("path",{d:"M19 9l-7 7-7-7",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}):(0,s.jsx)("div",{className:"text-right text-2xl sm:text-4xl whitespace-nowrap flex items-center",children:null===(i=m[l.id])||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:r.price})]}),l.is_expandable&&(0,s.jsx)(c.N,{children:e===l.id&&(0,s.jsx)(x.P.div,{className:"panel p-8 text-white w-full mt-[-20px] rounded-b-3xl overflow-hidden",style:{backgroundColor:l.background_color,maxWidth:l.width},initial:{clipPath:"inset(0 0 100% 0)"},animate:{clipPath:"inset(0 0 0% 0)"},exit:{clipPath:"inset(0 0 100% 0)"},transition:{duration:.3,ease:"easeInOut"},onClick:e=>{e.target===e.currentTarget&&t(null)},children:null===(n=m[l.id])||void 0===n?void 0:n.map(e=>(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4 mb-4 w-full z-10 ease-in-out",children:[e.image&&(0,s.jsx)("div",{className:"w-24 h-24 relative flex-shrink-0",children:(0,s.jsx)(a.default,{src:e.image,alt:e.text,fill:!0,className:"rounded-lg object-cover"})}),(0,s.jsx)("span",{className:"flex-grow text-center sm:text-left text-2xl sm:text-4xl break-words",children:e.text}),(0,s.jsx)("span",{className:"flex-shrink-0 text-2xl sm:text-4xl whitespace-nowrap",children:e.price})]},e.id))})})]},l.id)}),(0,s.jsxs)("div",{className:"flex gap-5 justify-between px-4 py-4 mt-7 w-full rounded-3xl text-white",style:{backgroundColor:"#1a1a1a",maxWidth:"691px"},children:[(0,s.jsx)("div",{className:"text-2xl sm:text-4xl",children:"Wniesienie mebli"}),(0,s.jsx)("div",{className:"text-right text-2xl sm:text-4xl whitespace-nowrap",children:"150 zł"})]}),(0,s.jsx)("div",{className:"justify-center items-center px-16 py-2 mt-7 max-w-full text-2xl text-white text-center rounded-3xl w-[900px] max-md:px-5 max-md:max-w-full",style:{backgroundColor:"#121CFF"},children:"Bezpłatna dostawa i montaż przy zakupie 2 usług."})]})})})]}),(0,s.jsx)(n.A,{})]})}},5683:(e,t,l)=>{"use strict";l.d(t,{N:()=>w});var s=l(5155),r=l(2115),i=l(4710),n=l(9234),a=l(9656),o=l(7249);class d extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,l=e instanceof HTMLElement&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=l-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function c(e){let{children:t,isPresent:l,anchorX:i}=e,n=(0,r.useId)(),a=(0,r.useRef)(null),c=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:x}=(0,r.useContext)(o.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:r,right:o}=c.current;if(l||!a.current||!e||!t)return;a.current.dataset.motionPopId=n;let d=document.createElement("style");return x&&(d.nonce=x),document.head.appendChild(d),d.sheet&&d.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===i?"left: ".concat(r):"right: ".concat(o),"px !important;\n            top: ").concat(s,"px !important;\n          }\n        ")),()=>{document.head.removeChild(d)}},[l]),(0,s.jsx)(d,{isPresent:l,childRef:a,sizeRef:c,children:r.cloneElement(t,{ref:a})})}let x=e=>{let{children:t,initial:l,isPresent:i,onExitComplete:o,custom:d,presenceAffectsLayout:x,mode:m,anchorX:h}=e,f=(0,n.M)(u),p=(0,r.useId)(),w=(0,r.useCallback)(e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;o&&o()},[f,o]),g=(0,r.useMemo)(()=>({id:p,initial:l,isPresent:i,custom:d,onExitComplete:w,register:e=>(f.set(e,!1),()=>f.delete(e))}),x?[Math.random(),w]:[i,w]);return(0,r.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[i]),r.useEffect(()=>{i||f.size||!o||o()},[i]),"popLayout"===m&&(t=(0,s.jsx)(c,{isPresent:i,anchorX:h,children:t})),(0,s.jsx)(a.t.Provider,{value:g,children:t})};function u(){return new Map}var m=l(5087);let h=e=>e.key||"";function f(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}var p=l(5403);let w=e=>{let{children:t,custom:l,initial:a=!0,onExitComplete:o,presenceAffectsLayout:d=!0,mode:c="sync",propagate:u=!1,anchorX:w="left"}=e,[g,j]=(0,m.xQ)(u),v=(0,r.useMemo)(()=>f(t),[t]),b=u&&!g?[]:v.map(h),y=(0,r.useRef)(!0),N=(0,r.useRef)(v),k=(0,n.M)(()=>new Map),[C,E]=(0,r.useState)(v),[P,_]=(0,r.useState)(v);(0,p.E)(()=>{y.current=!1,N.current=v;for(let e=0;e<P.length;e++){let t=h(P[e]);b.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[P,b.length,b.join("-")]);let z=[];if(v!==C){let e=[...v];for(let t=0;t<P.length;t++){let l=P[t],s=h(l);b.includes(s)||(e.splice(t,0,l),z.push(l))}return"wait"===c&&z.length&&(e=z),_(f(e)),E(v),null}let{forceRender:F}=(0,r.useContext)(i.L);return(0,s.jsx)(s.Fragment,{children:P.map(e=>{let t=h(e),r=(!u||!!g)&&(v===P||b.includes(t));return(0,s.jsx)(x,{isPresent:r,initial:(!y.current||!!a)&&void 0,custom:l,presenceAffectsLayout:d,mode:c,onExitComplete:r?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==F||F(),_(N.current),u&&(null==j||j()),o&&o())},anchorX:w,children:e},t)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,621,478,550,441,517,358],()=>t(331)),_N_E=e.O()}]);