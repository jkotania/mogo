(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{5076:(e,t,s)=>{Promise.resolve().then(s.bind(s,2303))},2303:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),l=s(2115),r=s(9806),i=s(6046),n=s(9670),o=s(3478),c=s(2888);function d(){let[e,t]=(0,l.useState)(null),[s,d]=(0,l.useState)(!0),x=(0,i.useRouter)(),m=(0,r.createClientComponentClient)();(0,l.useEffect)(()=>{(async()=>{let{data:{user:e}}=await m.auth.getUser();t(e),d(!1),e||x.push("/")})()},[x,m]);let u=async()=>{try{await m.auth.signOut(),x.push("/")}catch(e){console.error("Error signing out:",e)}};return s?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("div",{className:"min-h-full  py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsxs)(o.P.div,{className:"bg-white shadow rounded-lg overflow-hidden",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,a.jsx)("div",{className:"bg-[#1a1a1a] px-4 py-5 sm:px-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Profil użytkownika"}),(0,a.jsx)("button",{onClick:u,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline hidden md:block",children:"Wyloguj się"}),(0,a.jsx)("button",{onClick:u,className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline md:hidden",children:(0,a.jsx)(c.QeK,{size:24})})]})}),(0,a.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Informacje podstawowe"}),(0,a.jsx)("div",{className:"mt-3 border-t border-gray-200 pt-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:e.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Ostatnie logowanie"}),(0,a.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:new Date(e.last_sign_in_at||"").toLocaleDateString("pl-PL",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})})]}),(0,a.jsxs)("div",{className:"pt-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Zabezpieczenia"}),(0,a.jsx)("div",{className:"mt-3 border-t border-gray-200 pt-3",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status email"}),(0,a.jsx)("div",{className:"mt-1 text-sm",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.email_confirmed_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.email_confirmed_at?"Zweryfikowany":"Niezweryfikowany"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Metoda autoryzacji"}),(0,a.jsx)("div",{className:"mt-1 text-sm text-gray-900",children:"Email i hasło"})]})]})})]})]})})]})})})]}):null}},9670:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var a=s(5155),l=s(2888),r=s(8173),i=s.n(r),n=s(2115),o=s(5565),c=s(9806),d=s(6046);let x=e=>{let{isOpen:t,onClose:s}=e,[l,r]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[d,x]=(0,n.useState)(!0),[m,u]=(0,n.useState)(null),h=(0,c.createClientComponentClient)(),g=async e=>{e.preventDefault(),u(null);try{if(d){let{error:e}=await h.auth.signInWithPassword({email:l,password:i});if(e)throw e}else{let{error:e}=await h.auth.signUp({email:l,password:i});if(e)throw e}s(),alert(d?"Zalogowano pomyślnie!":"Zarejestrowano pomyślnie!"),window.location.href="/profile"}catch(e){u(e.message)}};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-8 w-full max-w-md mx-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:d?"Logowanie":"Rejestracja"}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",value:l,onChange:e=>r(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasło"}),(0,a.jsx)("input",{id:"password",type:"password",value:i,onChange:e=>o(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m&&(0,a.jsx)("div",{className:"text-red-500 text-sm",children:m}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200",children:d?"Zaloguj się":"Zarejestruj się"}),(0,a.jsx)("div",{className:"text-center mt-4",children:(0,a.jsx)("button",{type:"button",onClick:()=>x(!d),className:"text-blue-600 hover:underline text-sm",children:d?"Nie masz konta? Zarejestruj się":"Masz już konto? Zaloguj się"})})]}),(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):null};function m(){let[e,t]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),[m,u]=(0,n.useState)(null),h=(0,d.useRouter)(),g=(0,c.createClientComponentClient)();(0,n.useEffect)(()=>{(async()=>{let{data:{user:e}}=await g.auth.getUser();u(e)})();let{data:{subscription:e}}=g.auth.onAuthStateChange((e,t)=>{var s;u(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null)});return()=>e.unsubscribe()},[g]);let f=()=>{m?h.push("/profile"):r(!0)};return(0,a.jsxs)("nav",{className:"relative w-full bg-white border-b",children:[(0,a.jsx)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-24 items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(i(),{href:"/",className:"flex items-center",children:(0,a.jsx)(o.default,{src:"./logo.svg",alt:"MOGO Logo",width:160,height:40,className:"w-[140px] lg:w-[170px]"})})}),(0,a.jsxs)("div",{className:"hidden sm:flex sm:items-center sm:space-x-8",children:[(0,a.jsxs)(i(),{href:"/projects",className:"text-gray-600 hover:text-gray-900 text-xl font-medium relative group",children:["Projekty",(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#121CFF] group-hover:w-full transition-all duration-300"})]}),(0,a.jsxs)(i(),{href:"/offer",className:"text-gray-600 hover:text-gray-900 text-xl font-medium relative group",children:["Oferta",(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#121CFF] group-hover:w-full transition-all duration-300"})]}),(0,a.jsxs)(i(),{href:"/",onClick:e=>{e.preventDefault(),window.location.href="/#contact-form",setTimeout(()=>{var e;null===(e=document.getElementById("contact-form"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"text-gray-600 hover:text-gray-900 text-xl font-medium relative group",children:["Kontakt",(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#121CFF] group-hover:w-full transition-all duration-300"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 ml-6",children:[(0,a.jsx)("button",{onClick:f,className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(l.JXP,{className:"h-6 w-6"})}),(0,a.jsx)("button",{className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(l.VSk,{className:"h-6 w-6"})})]})]}),(0,a.jsx)("div",{className:"sm:hidden flex items-center justify-center",children:(0,a.jsx)("button",{onClick:()=>t(!e),className:"text-gray-600 hover:text-gray-900 p-2 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),e&&(0,a.jsx)("div",{className:"sm:hidden",children:(0,a.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 flex flex-col items-center",children:[(0,a.jsxs)(i(),{href:"/projects",className:"block px-3 py-2 text-gray-600 hover:text-gray-900 text-center w-full text-lg font-medium relative group",children:["Projekty",(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#121CFF] group-hover:w-full transition-all duration-300"})]}),(0,a.jsxs)(i(),{href:"/offer",className:"block px-3 py-2 text-gray-600 hover:text-gray-900 text-center w-full text-lg font-medium relative group",children:["Oferta",(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#121CFF] group-hover:w-full transition-all duration-300"})]}),(0,a.jsxs)(i(),{href:"/",onClick:e=>{e.preventDefault(),window.location.href="/#contact-form",setTimeout(()=>{var e;null===(e=document.getElementById("contact-form"))||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"})},100)},className:"block px-3 py-2 text-gray-600 hover:text-gray-900 text-center w-full text-lg font-medium relative group",children:["Kontakt",(0,a.jsx)("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-[#121CFF] group-hover:w-full transition-all duration-300"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-4 px-3 py-2",children:[(0,a.jsx)("button",{onClick:f,className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(l.JXP,{className:"h-5 w-5"})}),(0,a.jsx)("button",{className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)(l.VSk,{className:"h-5 w-5"})})]})]})}),(0,a.jsx)(x,{isOpen:s,onClose:()=>r(!1)})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,621,478,441,517,358],()=>t(5076)),_N_E=e.O()}]);